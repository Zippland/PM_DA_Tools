<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据关联性分析</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body class="m-4">
    <header class="text-center mb-8">
        <h1 class="text-2xl font-bold mb-4">关联矩阵分析工具</h1>
    </header>

    <div class="text-center mb-4">
        <button onclick="downloadCSV()" class="btn bg-green-500">
            下载示例 CSV
        </button>
        <input type="file" id="fileInput" class="file-input"/>
        <button onclick="readAndAnalyzeFile()" class="btn bg-blue-500">
            上传并分析
        </button>
        <button id="openModal" class="btn bg-gray-500">
            查看功能介绍
        </button>
    </div>

    <!-- 弹窗 -->
    <div id="myModal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 class="text-xl font-bold">功能介绍</h2>
            <!-- 以下是关联矩阵分析工具的使用说明 -->
            <div class="mt-6">
                <section>
                    <h2 class="text-xl font-bold">关联矩阵介绍</h2>
                    <p>“关联矩阵分析工具”是一个用于探索和可视化数据间关联性的网页应用。它允许用户上传包含数值数据的 CSV 文件，并生成一个热力图来展示数据列之间的关联程度。这个工具特别适合于统计分析、数据科学和任何需要理解变量之间关系的场景。</p>
                </section>
            
                <section>
                    <h2 class="text-xl font-bold">功能</h2>
                    <ul>
                        <li>上传数据：用户可以上传自己的 CSV 格式数据文件。</li>
                        <li>自动计算关联性：工具自动计算文件中各列数据的关联矩阵。</li>
                        <li>热力图展示：结果以热力图的形式展示，通过颜色的变化展示数据间的关联强度。</li>
                    </ul>
                </section>
            
                <section>
                    <h2 class="text-xl font-bold">如何使用</h2>
                    <ol>
                        <li>下载示例 CSV 文件（可选）：点击“下载示例 CSV”按钮，获取数据格式的参考。</li>
                        <li>上传 CSV 文件：点击“选择文件”按钮，选择您的 CSV 文件。</li>
                        <li>开始分析：点击“上传并分析”按钮，工具将自动处理您的数据，并展示分析结果。</li>
                        <li>查看结果：结果将以热力图形式展示，您可以直观地看到不同变量间的关联程度。</li>
                    </ol>
                </section>
            
                <section>
                    <h2 class="text-xl font-bold">示例</h2>
                    <p>假设您有一个包含股票市场数据的 CSV 文件，列包括不同公司的股价。上传文件后，热力图将展示这些公司股价变动间的关联性。例如，如果两家公司的股价变动趋势相似，则相应的热力图区域会显示为较暖的颜色，表示较高的正相关性；相反，如果一家公司股价上涨时另一家下跌，则显示为较冷的颜色，表示负相关性。</p>
                </section>
            
                <section>
                    <h2 class="text-xl font-bold">注意事项</h2>
                    <ul>
                        <li>确保您的 CSV 文件格式正确，即数据以逗号分隔。（建议直接下载修改示例文件）</li>
                        <li>此工具仅对数值数据进行分析。</li>
                        <li>所有数据处理均在本地进行，不会上传云端。</li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <section class="results">
        
        <div id="heatmap"></div> <!-- 热力图的容器 -->
        <pre id="analysisResult"></pre>
    </section>

    <script src="CorelatedMatrixscript.js"></script>
</body>
</html>